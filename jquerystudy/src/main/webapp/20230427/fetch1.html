<!DOCTYPE html>
<!-- /jquerystudy/src/main/webapp/20230427/fetch1.html -->
<html>
<head>
<meta charset="UTF-8">
<title>fetch 함수 : 파라미터 전달</title>
<script type="text/javascript">
	function loadJspGet() {
		fetch("../20230426/test2.jsp?name="+document.f.name.value)
		.then((response)=>response.text())
		.then((data)=>document.querySelector("#demo").innerHTML=data)
	}
	function loadJspPost(){
		//서버단의 test2가 응답을받아서 준다
		fetch("../20230426/test2.jsp",{ //url 쓰고 중괄호 넣는다
			method : "POST",
			headers : {"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},//파라미터라 content 타입 알려줘야함 
			body : "name="+ document.f.name.value //body에서 name 알려줘야함
		}).then((r)=>r.text())//r.text()=객체에 대한 데이터
		.then((data)=>document.querySelector("#demo").innerHTML=data) //demo에 데이터 넣어?
	}
</script>
</head>
<body>
	<h2>fetch 함수 이용</h2>
	<form name="f">
		<input type="text" name="name">
	</form>
	<button type="button" onclick="loadJspGet()">입력(get)</button>
	<button type="button" onclick="loadJspPost()">입력(post)</button>
	<div id="demo"></div>
</body>
</html>